<div class="cart-container">
    <div class="cart-title">Shop</div>
    <ng-container *ngIf="this.cartService.totalQuantity() as totalQuantity; else randomButton">
        <button (click)="toggleCart()">{{isCartPopupOpen?'Close Cart':'Open Cart'}} ({{totalQuantity}}/${{this.cartService.totalCost()}})</button>
        <button (click)="clearCart()" class="clear-button">Clear Cart</button>
    </ng-container>
    <ng-template #randomButton>
        <button (click)="buyRandom()" class="random-button">Buy something random to make the cart appear!</button>
    </ng-template>
</div>
<div *ngIf="isCartPopupOpen" class="overlay">
    <div class="popup-container"> Total: ${{this.cartService.totalCost()}}
        <ng-container *ngFor="let category of getCategories()" class="cart-title">
            <div>List of {{category}}</div>
            <ul>
                <li *ngFor="let item of getByCategory(category); trackBy:trackByName">{{item[0].name}} - {{item[1]}}
                </li>
            </ul>
        </ng-container>
    </div>
</div>